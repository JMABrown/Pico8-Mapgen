pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function col(c)
 //c = flr((c*4 - 128 - 96)/16)
 c = flr(c/2)
 //if c == 0 then return 1
 //elseif c == 1 then return 12
 //elseif c == 2 then return 15
 //elseif c == 3 then return 11
 //elseif c == 4 then return 3
 //elseif c >= 5 then return min(c, 7)
 //end
 if c <= 3 then return 1
 elseif c == 4 then return 12
 elseif c == 5 then return 15
 elseif c == 6 then return 11
 elseif c >= 7 then return 3
 end
end

::start::

cls()
r=rnd
i=0
z=128
::a::
x1=r(z)
x2=r(z)
y1=r(z)
y2=r(z)
for x=0,z do
 for y=0,z do
  d=(x-x1)*(y2-y1)-(y-y1)*(x2-x1)
  if (d>0) then
   pset(x,y,pget(x,y)+1)
  end
 end
end
flip()
i+=1
if i<255 then
 goto a
end

mx = 0
mn = 9999
//dv = 0
for x=1,z-1 do
 for y=1,z-1 do
  mn = min(pget(x,y), mn)
  mx = max(pget(x,y), mx)
 end
end

dv = mx - mn

for x=0,z do
 for y=0,z do
  pset(x,y,col(((pget(x,y)-mn)/dv)*16))
 end
end

//print(mn)
//print(mx)
//print(dv)


flip()

while (not btn(5)) do

end

goto start
__gfx__
00000000111ccfb30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000011ccfbb30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007001ccfbbb30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000ccfbb3330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000cfbb33330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700fbb333550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bb3335660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333356770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
